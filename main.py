#/usr/bin/env pythonfrom Tkinter import *__FIELD = (    ('name',      {'title': 'rule name',     'height': '1', 'field': 0}),    ('variables', {'title': 'variables',     'height': '2', 'field': 1}),    ('dir',       {'title': 'make dir',      'height': '1', 'field': 2}),    ('makefile',  {'title': 'make file',     'height': '1', 'field': 3}),    ('target',    {'title': 'build target',  'height': '1', 'field': 4}),    ('clean',     {'title': 'clean target',  'height': '1', 'field': 5}),)FIELD = dict(__FIELD)FIELDS = [f[0] for f in __FIELD]class Rule:    def __init__(self):        self.load()    def load(self):        file = [line.split(',') for line in 'r1,v1,d1,m1,,;r2,v2,d2,m2,,;r3,v3,d3,m3,,'.split(';')]        self.rules = [line[FIELD['name']['field']] for line in file]        self.details = {}        for line in file:            rule = line[FIELD['name']['field']]            self.details[rule] = dict([(field, line[FIELD[field]['field']])for field in FIELD])class RuleForm(Rule):    def updateRule(self, listbox):        for field in self.rules:            listbox.insert(END, field)    def updateDetail(self, name, textFields):        for field in FIELD:            text = textFields[field]            text.delete(1.0, END)            text.insert(END, self.details[name][field])def form():    top = Tk()    top.title("rule viewer")    top.geometry('600x400')    top.resizable(width = False, height = True)    left = Frame(top)    left.pack(side = 'left', fill = 'y')    #entryFilter = Entry(left)    #entryFilter.pack(side = 'bottom', fill = 'x')    listRule = Listbox(left)    listRule.pack(side = 'left', fill = 'both')    right = Frame(top)    right.pack(fill = 'both')    textField = {}    for field in FIELDS:        line = Frame(right)        line.pack(side = 'top', fill = 'x')               label = Label(line, anchor = 'ne', width = 10, text = FIELD[field]['title'])        label.pack(side = 'left', fill = 'y')        text = Text(line, height = FIELD[field]['height'], bg = 'gray')        text.pack(fill = 'both')        textField[field] = text    return listRule, textFieldif __name__ == '__main__':    rf = RuleForm()    listboxRule, textFields = form()    listboxRule.bind('<Double-Button-1>', lambda event: rf.updateDetail(listboxRule.get(listboxRule.curselection()), textFields))    rf.updateRule(listboxRule)    mainloop()